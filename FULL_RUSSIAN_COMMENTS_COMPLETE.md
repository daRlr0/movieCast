# –ü–æ–ª–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä—É—Å—Å–∫–∏—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ - –ó–∞–≤–µ—Ä—à–µ–Ω–æ

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ —Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ç—Ä–æ–≥–∏–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
1. ‚úÖ **–ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–∏–π** - –í—ã–ø–æ–ª–Ω–µ–Ω–æ
2. ‚úÖ **–î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** - –í—ã–ø–æ–ª–Ω–µ–Ω–æ
3. ‚úÖ **–ö–∞–∂–¥—ã–π Class, Method, Field –∏–º–µ–µ—Ç –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ** - –í—ã–ø–æ–ª–Ω–µ–Ω–æ
4. ‚úÖ **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–æ–Ω** - –í—ã–ø–æ–ª–Ω–µ–Ω–æ
5. ‚úÖ **–ù–ï –ò–ó–ú–ï–ù–Ø–¢–¨ –ª–æ–≥–∏–∫—É –∫–æ–¥–∞** - –í—ã–ø–æ–ª–Ω–µ–Ω–æ (—Ç–æ–ª—å–∫–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏)

## üìÅ –§–∞–π–ª—ã —Å –ø–æ–ª–Ω—ã–º–∏ —Ä—É—Å—Å–∫–∏–º–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏

### ‚úÖ 1. MainActivity.java - –ü–û–õ–ù–û–ï –ü–û–ö–†–´–¢–ò–ï

**–ü—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ:**

#### –ö–ª–∞—Å—Å
```java
/**
 * MainActivity - –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å —Å–µ—Ç–∫–æ–π —Ñ–∏–ª—å–º–æ–≤
 * 
 * –†–æ–ª—å –≤ MVVM:
 * –≠—Ç–æ View (Activity), –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ UI –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.
 */
```

#### –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (Fields)
```java
// ViewBinding –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º UI –±–µ–∑ findViewById
private ActivityMainBinding binding;

// ViewModel –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π
private MainViewModel viewModel;

// –ê–¥–∞–ø—Ç–µ—Ä –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Ñ–∏–ª—å–º–æ–≤ –≤ RecyclerView
private MovieAdapter adapter;

// LayoutManager –¥–ª—è —Å–µ—Ç–∫–∏ –∏–∑ 2 –∫–æ–ª–æ–Ω–æ–∫
private GridLayoutManager layoutManager;

// –§–ª–∞–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏)
private boolean isLoadingMore = false;

// –ú–µ–Ω—é –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–Ω–æ–ø–∫–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã
private Menu menu;
```

#### –ë–ª–æ–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
```java
/**
 * –ú–µ—Ç–æ–¥ onCreate - —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ Activity
 * –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ Activity
 */
@Override
protected void onCreate(Bundle savedInstanceState) {
    // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é —Ç–µ–º—É –î–û —É—Å—Ç–∞–Ω–æ–≤–∫–∏ layout (–≤–∞–∂–Ω–æ!)
    ThemeManager.applyTheme(this);
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ViewBinding –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º UI
    binding = ActivityMainBinding.inflate(getLayoutInflater());
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
    setupRecyclerView();      // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–∫–∏ —Ñ–∏–ª—å–º–æ–≤
    setupViewModel();         // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ViewModel –∏ –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –¥–∞–Ω–Ω—ã–µ
    setupSearchView();        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–∏—Å–∫–∞
    setupFilters();           // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ (Chips)
    setupBottomNavigation();  // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∏–∂–Ω–µ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
}
```

#### Observers (–ù–∞–±–ª—é–¥–∞—Ç–µ–ª–∏)
```java
/**
 * –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ViewModel –∏ –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ LiveData
 */
private void setupViewModel() {
    // –ù–ê–ë–õ–Æ–î–ï–ù–ò–ï –ó–ê –ò–ó–ú–ï–ù–ï–ù–ò–Ø–ú–ò: –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ —Å–ø–∏—Å–æ–∫ —Ñ–∏–ª—å–º–æ–≤
    viewModel.getMovies().observe(this, movies -> {
        // –û–±–Ω–æ–≤–ª—è–µ–º –∞–¥–∞–ø—Ç–µ—Ä –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
        adapter.setMovies(movies);
    });
    
    // –ù–ê–ë–õ–Æ–î–ï–ù–ò–ï –ó–ê –ò–ó–ú–ï–ù–ï–ù–ò–Ø–ú–ò: –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏
    viewModel.getLoading().observe(this, isLoading -> {
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º ProgressBar
    });
    
    // –ù–ê–ë–õ–Æ–î–ï–ù–ò–ï –ó–ê –ò–ó–ú–ï–ù–ï–ù–ò–Ø–ú–ò: –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ –æ—à–∏–±–∫–∏
    viewModel.getError().observe(this, error -> {
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º Toast —Å –æ—à–∏–±–∫–æ–π
    });
}
```

#### API –∑–∞–ø—Ä–æ—Å—ã
```java
// API –∑–∞–ø—Ä–æ—Å –∫ TMDb –ø—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –ø–æ–∏—Å–∫–∞
viewModel.searchMovies(query); // Retrofit –∑–∞–ø—Ä–æ—Å –∫ /search/movie

// –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ –ø–æ–ø—É–ª—è—Ä–Ω—ã–º —Ñ–∏–ª—å–º–∞–º
viewModel.loadPopularMovies(); // Retrofit –∑–∞–ø—Ä–æ—Å –∫ /movie/popular

// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ—Å–∫—Ä–æ–ª–ª–∏–ª –¥–æ –∫–æ–Ω—Ü–∞ - –∑–∞–≥—Ä—É–∂–∞–µ–º —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
viewModel.loadNextPage(); // API –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ Retrofit
```

#### Room –æ–ø–µ—Ä–∞—Ü–∏–∏
```java
// –°–ª—É—à–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞ –ø–æ –∫–Ω–æ–ø–∫–µ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ (—Å–µ—Ä–¥–µ—á–∫–æ)
(movieId, currentStatus) -> {
    // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º —Å—Ç–∞—Ç—É—Å –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ —á–µ—Ä–µ–∑ ViewModel (Room –æ–ø–µ—Ä–∞—Ü–∏—è)
    viewModel.toggleFavorite(movieId);
}
```

### ‚úÖ 2. MainViewModel.java - –ü–û–õ–ù–û–ï –ü–û–ö–†–´–¢–ò–ï

**–ü—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ:**

#### –ö–ª–∞—Å—Å —Å —Ä–æ–ª—å—é –≤ MVVM
```java
/**
 * MainViewModel - ViewModel –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
 * 
 * –†–æ–ª—å –≤ MVVM:
 * –≠—Ç–æ ViewModel, –∫–æ—Ç–æ—Ä–∞—è —É–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ —Å —Å–µ—Ç–∫–æ–π —Ñ–∏–ª—å–º–æ–≤.
 * ViewModel –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É, –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö –∏–∑ Repository –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
 * –¥–∞–Ω–Ω—ã—Ö –¥–ª—è UI —á–µ—Ä–µ–∑ LiveData. ViewModel –ø–µ—Ä–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–ø–æ–≤–æ—Ä–æ—Ç —ç–∫—Ä–∞–Ω–∞).
 */
```

#### –í—Å–µ –ø–æ–ª—è —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏
```java
// Repository –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ (Retrofit + Room)
private MovieRepository repository;

// LiveData –¥–ª—è –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∑–∞ —Å–ø–∏—Å–∫–æ–º —Ñ–∏–ª—å–º–æ–≤ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –∏–∑–±—Ä–∞–Ω–Ω–æ–º
private MutableLiveData<List<MovieWithFavorite>> moviesLiveData;

// LiveData –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –∑–∞–≥—Ä—É–∑–∫–∏
private MutableLiveData<Boolean> loadingLiveData;

// LiveData –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–æ–∫
private MutableLiveData<String> errorLiveData;

// –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤
private List<Movie> allMovies;

// –ö–∞—Ä—Ç–∞ –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ (ID —Ñ–∏–ª—å–º–∞ -> –∏–∑–±—Ä–∞–Ω–Ω—ã–π?)
private Map<Integer, Boolean> favoriteStatusMap;

// Executor –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö Room –≤ —Ñ–æ–Ω–æ–≤–æ–º –ø–æ—Ç–æ–∫–µ
private Executor executor;
```

#### –ú–µ—Ç–æ–¥—ã —Å Retrofit
```java
/**
 * –ú–µ—Ç–æ–¥ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤ –∏–∑ API (–ø–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
 * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Retrofit –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–µ—Ç–µ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
 */
public void loadPopularMovies() {
    // Retrofit - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ GET –∑–∞–ø—Ä–æ—Å–∞ –∫ TMDb API
    repository.getPopularMovies(currentPage).enqueue(new Callback<MovieResponse>() {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞
    });
}
```

#### –ú–µ—Ç–æ–¥—ã —Å Room CRUD
```java
/**
 * –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ –¥–ª—è —Ñ–∏–ª—å–º–∞
 * CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å Room: CREATE (insert), UPDATE (updateFavoriteStatus), DELETE (delete)
 */
public void toggleFavorite(int movieId) {
    executor.execute(() -> {
        // Room - READ: –ø—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –∑–∞–ø–∏—Å—å
        MediaItem existingItem = repository.getMediaItemByIdSync(movieId);
        
        if (existingItem != null) {
            if (newFavoriteStatus) {
                // Room - UPDATE: –æ–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
                repository.updateFavoriteStatus(movieId, true);
            } else {
                // Room - DELETE: —É–¥–∞–ª—è–µ–º –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
                repository.deleteMediaItemById(movieId);
            }
        } else {
            // Room - CREATE: —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å
            repository.insertMediaItem(newItem);
        }
    });
}
```

### ‚úÖ 3. MovieRepository.java - –ü–û–õ–ù–û–ï –ü–û–ö–†–´–¢–ò–ï

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤:**

```java
/**
 * MovieRepository - Repository (–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π) –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ MVVM
 * 
 * –†–æ–ª—å –≤ MVVM:
 * –≠—Ç–æ Repository, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è –µ–¥–∏–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
 * Repository –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:
 * 1. –£–¥–∞–ª–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ - TMDb API —á–µ—Ä–µ–∑ Retrofit
 * 2. –õ–æ–∫–∞–ª—å–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Room –¥–ª—è –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
 */
```

**–†–∞–∑–¥–µ–ª—ã:**
- `// ============ –ú–ï–¢–û–î–´ –î–õ–Ø –†–ê–ë–û–¢–´ –° API (Retrofit) ============`
- `// ============ –û–ü–ï–†–ê–¶–ò–ò –° –ñ–ê–ù–†–ê–ú–ò (Room + –ö—ç—à) ============`
- `// ============ –û–ü–ï–†–ê–¶–ò–ò –° –ë–ê–ó–û–ô –î–ê–ù–ù–´–• (Room CRUD) ============`
- `// ============ –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –ú–ï–¢–û–î–´ –ö–û–ù–í–ï–†–¢–ê–¶–ò–ò ============`

**–ö–∞–∂–¥—ã–π –º–µ—Ç–æ–¥ API –ø–æ–º–µ—á–µ–Ω:**
```java
/**
 * Retrofit: –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤ —Å TMDb API
 * –ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞: /movie/popular
 */
public Call<MovieResponse> getPopularMovies(int page) {
    return apiService.getPopularMovies(API_KEY, LANGUAGE, page);
}
```

**–ö–∞–∂–¥–∞—è CRUD –æ–ø–µ—Ä–∞—Ü–∏—è –ø–æ–º–µ—á–µ–Ω–∞:**
```java
/**
 * Room - CREATE: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å–º–∞ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ)
 */
public void insertMediaItem(MediaItem mediaItem) {
    executor.execute(() -> movieDao.insert(mediaItem));
}
```

### ‚úÖ 4. MovieDao.java - –ü–û–õ–ù–û–ï –ü–û–ö–†–´–¢–ò–ï

**–í—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏:**

```java
/**
 * MovieDao - Data Access Object –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–∞–±–ª–∏—Ü–µ–π media_items
 * 
 * –†–æ–ª—å –≤ MVVM:
 * –≠—Ç–æ DAO (Data Access Object), –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ç–æ–¥—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
 * –æ–ø–µ—Ä–∞—Ü–∏–π —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö Room (CRUD - Create, Read, Update, Delete).
 */

/**
 * Room - CREATE: –í—Å—Ç–∞–≤–∫–∞ —Ñ–∏–ª—å–º–∞ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
 * REPLACE —Å—Ç—Ä–∞—Ç–µ–≥–∏—è - –µ—Å–ª–∏ —Ñ–∏–ª—å–º —Å —Ç–∞–∫–∏–º ID —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –∑–∞–º–µ–Ω–∏—Ç—å –µ–≥–æ
 */
@Insert(onConflict = OnConflictStrategy.REPLACE)
void insert(MediaItem mediaItem);

/**
 * Room - READ: –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤
 * SQL –∑–∞–ø—Ä–æ—Å: SELECT * FROM media_items WHERE isFavorite = 1
 */
@Query("SELECT * FROM media_items WHERE isFavorite = 1")
LiveData<List<MediaItem>> getAllFavorites();

/**
 * Room - UPDATE: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
 * SQL –∑–∞–ø—Ä–æ—Å: UPDATE media_items SET userComment = :comment WHERE id = :id
 */
@Query("UPDATE media_items SET userComment = :comment WHERE id = :id")
void updateComment(int id, String comment);

/**
 * Room - DELETE: –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∏–ª—å–º–∞ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ ID
 * SQL –∑–∞–ø—Ä–æ—Å: DELETE FROM media_items WHERE id = :id
 */
@Query("DELETE FROM media_items WHERE id = :id")
void deleteById(int id);
```

### ‚úÖ 5. MediaItem.java - –ü–û–õ–ù–û–ï –ü–û–ö–†–´–¢–ò–ï

**–ö–ª–∞—Å—Å Entity —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º —Ä–æ–ª–∏:**
```java
/**
 * MediaItem - Entity (—Ç–∞–±–ª–∏—Ü–∞) –≤ Room –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
 * 
 * –†–æ–ª—å –≤ MVVM:
 * –≠—Ç–æ Entity –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–∞–±–ª–∏—Ü—É "media_items" –≤ SQLite –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
 * Room –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã –∏ SQL –∑–∞–ø—Ä–æ—Å–æ–≤.
 */
```

**–í—Å–µ –ø–æ–ª—è —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏:**
```java
/**
 * –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á - ID —Ñ–∏–ª—å–º–∞ –∏–∑ TMDb API
 * Room –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–æ –ø–æ–ª–µ –∫–∞–∫ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø–∏—Å–∏
 */
@PrimaryKey
private int id;

// –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞
private String title;

// –ü—É—Ç—å –∫ –ø–æ—Å—Ç–µ—Ä—É —Ñ–∏–ª—å–º–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å Glide –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
private String posterPath;

/**
 * JSON —Å—Ç—Ä–æ–∫–∞ —Å –∂–∞–Ω—Ä–∞–º–∏ —Ñ–∏–ª—å–º–∞ –¥–ª—è offline –ø–æ–¥–¥–µ—Ä–∂–∫–∏
 * GSON —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç —Å–ø–∏—Å–æ–∫ Genre –≤ JSON, Room —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–∞–∫ String
 */
private String genresJson;

/**
 * JSON —Å—Ç—Ä–æ–∫–∞ —Å –∞–∫—Ç–µ—Ä—Å–∫–∏–º —Å–æ—Å—Ç–∞–≤–æ–º –¥–ª—è offline –ø–æ–¥–¥–µ—Ä–∂–∫–∏
 * GSON —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç —Å–ø–∏—Å–æ–∫ Cast –≤ JSON, Room —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–∞–∫ String
 */
private String castJson;
```

### ‚úÖ 6. ThemeManager.java - –ü–û–õ–ù–û–ï –ü–û–ö–†–´–¢–ò–ï

**–ö–ª–∞—Å—Å —É—Ç–∏–ª–∏—Ç—ã:**
```java
/**
 * ThemeManager - —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ–º–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—Å–≤–µ—Ç–ª–∞—è/—Ç–µ–º–Ω–∞—è)
 * 
 * –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:
 * –≠—Ç–æ—Ç –∫–ª–∞—Å—Å —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º –º–µ–∂–¥—É —Å–≤–µ—Ç–ª–æ–π –∏ —Ç–µ–º–Ω–æ–π —Ç–µ–º–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
 * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç SharedPreferences –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—ã–±–æ—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
 * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç AppCompatDelegate –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ç–µ–º—ã –∫–æ –≤—Å–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é.
 */
```

**–ú–µ—Ç–æ–¥—ã —Å SharedPreferences:**
```java
/**
 * –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–π —Ç–µ–º—ã –∏–∑ SharedPreferences
 * –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ onCreate() –∫–∞–∂–¥–æ–π Activity –ø–µ—Ä–µ–¥ setContentView()
 */
public static void applyTheme(Context context) {
    int themeMode = getSavedThemeMode(context);
    AppCompatDelegate.setDefaultNightMode(themeMode);
}

/**
 * –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ —Ç–µ–º—ã –≤ SharedPreferences
 */
private static void saveThemeMode(Context context, int mode) {
    SharedPreferences prefs = context.getSharedPreferences(PREFS_NAME, Context.MODE_PRIVATE);
    prefs.edit().putInt(KEY_THEME_MODE, mode).apply();
}
```

## üéØ –ö–ª—é—á–µ–≤—ã–µ —Ç–æ—á–∫–∏ –ø–æ–∫—Ä—ã—Ç–∏—è

### ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (Fields)
–ö–∞–∂–¥–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∏–º–µ–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º, —á—Ç–æ –æ–Ω–∞ —Ö—Ä–∞–Ω–∏—Ç:

```java
// –ê–¥–∞–ø—Ç–µ—Ä –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Ñ–∏–ª—å–º–æ–≤ –≤ RecyclerView
private MovieAdapter adapter;

// –§–ª–∞–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏)
private boolean isLoadingMore = false;

// –ö–∞—Ä—Ç–∞ –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ (ID —Ñ–∏–ª—å–º–∞ -> –∏–∑–±—Ä–∞–Ω–Ω—ã–π?)
private Map<Integer, Boolean> favoriteStatusMap;
```

### ‚úÖ –õ–æ–≥–∏–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (Init logic)
–í—Å–µ –±–ª–æ–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ UI –ø–æ–º–µ—á–µ–Ω—ã:

```java
/**
 * –ú–µ—Ç–æ–¥ onCreate - —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ Activity
 */
@Override
protected void onCreate(Bundle savedInstanceState) {
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ViewBinding –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º UI
    binding = ActivityMainBinding.inflate(getLayoutInflater());
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
    setupRecyclerView();      // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–∫–∏ —Ñ–∏–ª—å–º–æ–≤
    setupViewModel();         // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ViewModel –∏ –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –¥–∞–Ω–Ω—ã–µ
}
```

### ‚úÖ Observers (–ù–∞–±–ª—é–¥–∞—Ç–µ–ª–∏)
–í—Å–µ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ LiveData –ø–æ–º–µ—á–µ–Ω—ã:

```java
// –ù–ê–ë–õ–Æ–î–ï–ù–ò–ï –ó–ê –ò–ó–ú–ï–ù–ï–ù–ò–Ø–ú–ò: –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ —Å–ø–∏—Å–æ–∫ —Ñ–∏–ª—å–º–æ–≤ –∏–∑ ViewModel
viewModel.getMovies().observe(this, movies -> {
    // –û–±–Ω–æ–≤–ª—è–µ–º –∞–¥–∞–ø—Ç–µ—Ä –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
});

// –ù–ê–ë–õ–Æ–î–ï–ù–ò–ï –ó–ê –ò–ó–ú–ï–ù–ï–ù–ò–Ø–ú–ò: –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏
viewModel.getLoading().observe(this, isLoading -> {
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º ProgressBar
});
```

### ‚úÖ API –±–ª–æ–∫–∏
–í—Å–µ —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ Retrofit –ø–æ–º–µ—á–µ–Ω—ã:

```java
// Retrofit - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ GET –∑–∞–ø—Ä–æ—Å–∞ –∫ TMDb API
repository.getPopularMovies(currentPage).enqueue(new Callback<MovieResponse>() {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ –æ—Ç API
});

// Retrofit –∑–∞–ø—Ä–æ—Å –∫ /search/movie
viewModel.searchMovies(query);

// Retrofit –∑–∞–ø—Ä–æ—Å –∫ /movie/popular
viewModel.loadPopularMovies();
```

### ‚úÖ DB –±–ª–æ–∫–∏ (Room)
–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å Room –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –ø–æ–º–µ—á–µ–Ω—ã:

```java
// Room - CREATE: —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º
repository.insertMediaItem(newItem);

// Room - READ: –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
MediaItem mediaItem = repository.getMediaItemByIdSync(movieId);

// Room - UPDATE: –æ–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ –Ω–∞ true
repository.updateFavoriteStatus(movieId, true);

// Room - DELETE: —É–¥–∞–ª—è–µ–º –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
repository.deleteMediaItemById(movieId);
```

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

### –û—Ö–≤–∞—Ç
- **–ö–ª–∞—Å—Å–æ–≤**: 6 –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ - 100% –ø—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ
- **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö**: –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ - 100% –ø—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ
- **–ú–µ—Ç–æ–¥–æ–≤**: –í—Å–µ –º–µ—Ç–æ–¥—ã - 100% –ø—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ
- **–ë–ª–æ–∫–æ–≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏**: –í—Å–µ –±–ª–æ–∫–∏ - 100% –ø–æ–º–µ—á–µ–Ω–æ
- **Observers**: –í—Å–µ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ LiveData - 100% –ø–æ–º–µ—á–µ–Ω–æ
- **API –∑–∞–ø—Ä–æ—Å—ã**: –í—Å–µ Retrofit –∑–∞–ø—Ä–æ—Å—ã - 100% –ø–æ–º–µ—á–µ–Ω–æ
- **Room –æ–ø–µ—Ä–∞—Ü–∏–∏**: –í—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ - 100% –ø–æ–º–µ—á–µ–Ω–æ

### –°—Ç–∏–ª—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- **–Ø–∑—ã–∫**: 100% —Ä—É—Å—Å–∫–∏–π (–Ω–µ—Ç –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤)
- **–¢–æ–Ω**: –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π
- **–§–æ—Ä–º–∞—Ç**: JavaDoc –¥–ª—è –∫–ª–∞—Å—Å–æ–≤ –∏ –º–µ—Ç–æ–¥–æ–≤, inline –¥–ª—è –±–ª–æ–∫–æ–≤ –∫–æ–¥–∞
- **–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è**: –ö–∞–∂–¥–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –º–µ—Ç–æ–¥ –∏ –±–ª–æ–∫ –∏–º–µ–µ—Ç –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ

## ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|-----------|--------|
| –í—Å–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º | ‚úÖ 100% |
| –ö–∞–∂–¥—ã–π Class –ø—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | ‚úÖ 100% |
| –ö–∞–∂–¥—ã–π Method –ø—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | ‚úÖ 100% |
| –ö–∞–∂–¥—ã–π Field –ø—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω | ‚úÖ 100% |
| –ë–ª–æ–∫–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–º–µ—á–µ–Ω—ã | ‚úÖ 100% |
| Observers –ø–æ–º–µ—á–µ–Ω—ã | ‚úÖ 100% |
| API –∑–∞–ø—Ä–æ—Å—ã –ø–æ–º–µ—á–µ–Ω—ã | ‚úÖ 100% |
| Room –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ–º–µ—á–µ–Ω—ã | ‚úÖ 100% |
| –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–æ–Ω | ‚úÖ –î–∞ |
| –õ–æ–≥–∏–∫–∞ –∫–æ–¥–∞ –ù–ï –∏–∑–º–µ–Ω–µ–Ω–∞ | ‚úÖ –î–∞ |

## üéì –ü—Ä–∏–º–µ—Ä—ã –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

### –ü—Ä–∏–º–µ—Ä 1: –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è
```java
// –ê–¥–∞–ø—Ç–µ—Ä –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Ñ–∏–ª—å–º–æ–≤ –≤ RecyclerView
private MovieAdapter adapter;
```

### –ü—Ä–∏–º–µ—Ä 2: –ú–µ—Ç–æ–¥ —Å —Ä–æ–ª—å—é –≤ MVVM
```java
/**
 * –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ViewModel –∏ –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ LiveData
 * –ó–¥–µ—Å—å –º—ã –Ω–∞–±–ª—é–¥–∞–µ–º –∑–∞ —Ç—Ä–µ–º—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö: —Ñ–∏–ª—å–º—ã, —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏, –æ—à–∏–±–∫–∏
 */
private void setupViewModel() {
    // –ü–æ–ª—É—á–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä ViewModel (–ø–µ—Ä–µ–∂–∏–≤–∞–µ—Ç –ø–æ–≤–æ—Ä–æ—Ç —ç–∫—Ä–∞–Ω–∞)
    viewModel = new ViewModelProvider(this).get(MainViewModel.class);
    
    // –ù–ê–ë–õ–Æ–î–ï–ù–ò–ï –ó–ê –ò–ó–ú–ï–ù–ï–ù–ò–Ø–ú–ò: –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ —Å–ø–∏—Å–æ–∫ —Ñ–∏–ª—å–º–æ–≤
    viewModel.getMovies().observe(this, movies -> {
        // –û–±–Ω–æ–≤–ª—è–µ–º –∞–¥–∞–ø—Ç–µ—Ä –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
        adapter.setMovies(movies);
    });
}
```

### –ü—Ä–∏–º–µ—Ä 3: –ë–ª–æ–∫ —Å API –∑–∞–ø—Ä–æ—Å–æ–º
```java
/**
 * –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–∏—Å–∫–∞ —Ñ–∏–ª—å–º–æ–≤ —á–µ—Ä–µ–∑ SearchView
 * API –∑–∞–ø—Ä–æ—Å –∫ TMDb –ø—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –ø–æ–∏—Å–∫–∞
 */
private void setupSearchView() {
    binding.searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {
        @Override
        public boolean onQueryTextSubmit(String query) {
            // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∞–ª –∫–Ω–æ–ø–∫—É –ø–æ–∏—Å–∫–∞ - –≤—ã–ø–æ–ª–Ω—è–µ–º API –∑–∞–ø—Ä–æ—Å
            viewModel.searchMovies(query); // Retrofit –∑–∞–ø—Ä–æ—Å –∫ /search/movie
            return true;
        }
    });
}
```

### –ü—Ä–∏–º–µ—Ä 4: –ë–ª–æ–∫ —Å Room –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
```java
/**
 * –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ –¥–ª—è —Ñ–∏–ª—å–º–∞
 * CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å Room: CREATE (insert), UPDATE (updateFavoriteStatus), DELETE (delete)
 */
public void toggleFavorite(int movieId) {
    executor.execute(() -> {
        // Room - READ: –ø—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –∑–∞–ø–∏—Å—å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
        MediaItem existingItem = repository.getMediaItemByIdSync(movieId);
        
        if (existingItem != null) {
            // Room - UPDATE: –æ–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ –Ω–∞ true
            repository.updateFavoriteStatus(movieId, true);
        } else {
            // Room - CREATE: —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º
            repository.insertMediaItem(newItem);
        }
    });
}
```

## üéâ –ò—Ç–æ–≥

**–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ —Ç–µ–ø–µ—Ä—å —Å–æ–¥–µ—Ä–∂–∞—Ç:**
- ‚úÖ **100% —Ä—É—Å—Å–∫–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** - –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–≥–æ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
- ‚úÖ **–ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ** - –∫–∞–∂–¥—ã–π –∫–ª–∞—Å—Å, –º–µ—Ç–æ–¥, –ø–æ–ª–µ –ø—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã** - —Ä–æ–ª—å –≤ MVVM –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- ‚úÖ **–ü–æ–º–µ—Ç–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫** - Retrofit, Room, GSON, Glide, SharedPreferences
- ‚úÖ **–ü–æ–º–µ—Ç–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π** - API –∑–∞–ø—Ä–æ—Å—ã, Room CRUD, Observers
- ‚úÖ **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–æ–Ω** - –≥—Ä–∞–º–æ—Ç–Ω—ã–µ, –ª–∞–∫–æ–Ω–∏—á–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- ‚úÖ **–ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–æ–¥–∞** - –∏–∑–º–µ–Ω–µ–Ω—ã —Ç–æ–ª—å–∫–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

**–ö–æ–¥ –≥–æ—Ç–æ–≤ –∫ —Å–¥–∞—á–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –ª–µ–≥–∫–æ —á–∏—Ç–∞–µ—Ç—Å—è!** üìö‚ú®
